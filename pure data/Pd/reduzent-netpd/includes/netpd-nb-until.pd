#N canvas 239 75 460 487 10;
#X obj 125 313 t b b b;
#X obj 80 427 del;
#X obj 86 234 moses 1;
#X obj 144 354 outlet;
#X obj 86 151 t a a;
#X obj 86 22 inlet;
#X obj 86 276 outlet;
#X obj 80 380 realtime;
#X obj 86 130 +;
#X msg 15 318 -1;
#X text 122 407 (add 20% spare time);
#X text 131 276 <--- bang when done;
#X obj 211 20 inlet;
#X msg 211 59 0;
#X text 267 21 stop;
#X obj 86 44 route bang float;
#X msg 86 76 1e+08;
#X text 228 464 2012 \, Roman Haefeli;
#X msg 86 255 bang;
#N canvas 591 237 442 392 global.lock 0;
#X obj 2 13 inlet;
#X obj 108 365 outlet;
#N canvas 980 199 342 494 lock 0;
#X obj 27 14 inlet;
#X obj 27 288 value NB_UNTIL_LOCK;
#X obj 27 360 t b b;
#X msg 54 396 1;
#X obj 54 426 value NB_UNTIL_LOCK;
#X obj 27 469 outlet;
#X obj 27 42 route acquire release;
#X obj 27 64 b;
#X obj 88 64 b;
#X obj 88 85 f;
#X text 126 105 <- did _we_ acquire the lock?;
#X obj 88 106 sel 1;
#X msg 163 140 0;
#X obj 27 310 sel 0 1;
#X obj 161 229 spigot;
#X msg 46 333 1;
#X obj 88 128 t b b;
#X msg 113 402 0;
#X obj 88 172 s NB_UNTIL_LOCK_;
#X obj 161 201 r NB_UNTIL_LOCK_;
#X connect 0 0 6 0;
#X connect 1 0 13 0;
#X connect 2 0 5 0;
#X connect 2 1 3 0;
#X connect 2 1 17 0;
#X connect 3 0 4 0;
#X connect 3 0 9 1;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 11 0 16 0;
#X connect 12 0 1 0;
#X connect 12 0 9 1;
#X connect 13 0 2 0;
#X connect 13 1 15 0;
#X connect 14 0 1 0;
#X connect 15 0 14 1;
#X connect 16 0 18 0;
#X connect 16 1 12 0;
#X connect 17 0 14 1;
#X connect 19 0 14 0;
#X restore 81 169 pd lock;
#X obj 81 191 t b b;
#X obj 81 216 f;
#X msg 127 229 1;
#X obj 81 275 spigot;
#N canvas 1084 239 156 156 once 0;
#X obj 22 11 inlet;
#X obj 22 53 spigot 1;
#X obj 22 75 t a b;
#X msg 98 64 0;
#X obj 22 97 outlet;
#X obj 72 8 inlet;
#X msg 72 30 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X restore 81 98 pd once;
#X msg 81 123 acquire;
#X msg 235 236 release;
#X obj 81 297 t a a;
#X obj 235 137 sel 0;
#X obj 235 159 t b b b;
#X msg 160 233 0;
#X obj 2 191 spigot 0;
#X obj 2 35 t a b a b;
#X msg 53 57 1;
#X obj 81 238 t a b;
#X msg 20 146 0;
#X connect 0 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 17 0;
#X connect 5 0 6 1;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X connect 10 1 1 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 12 1 13 0;
#X connect 12 2 7 1;
#X connect 13 0 6 1;
#X connect 14 0 6 0;
#X connect 15 0 14 0;
#X connect 15 1 7 0;
#X connect 15 2 4 1;
#X connect 15 3 16 0;
#X connect 16 0 14 1;
#X connect 17 0 6 0;
#X connect 17 1 18 0;
#X connect 18 0 14 1;
#X restore 86 183 pd global.lock;
#X obj 81 405 * 2;
#X connect 0 0 7 1;
#X connect 0 1 3 0;
#X connect 0 2 7 0;
#X connect 1 0 9 0;
#X connect 2 0 18 0;
#X connect 2 1 0 0;
#X connect 4 0 19 0;
#X connect 4 1 8 1;
#X connect 5 0 15 0;
#X connect 7 0 20 0;
#X connect 8 0 4 0;
#X connect 9 0 8 0;
#X connect 12 0 13 0;
#X connect 13 0 8 1;
#X connect 15 0 16 0;
#X connect 15 1 8 0;
#X connect 16 0 8 0;
#X connect 18 0 6 0;
#X connect 19 0 2 0;
#X connect 20 0 1 0;
